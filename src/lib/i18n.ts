// Currency conversion and formatting utilities
const EUR_TO_USD_RATE = 1.09 // Updated periodically
const USD_TO_EUR_RATE = 1 / EUR_TO_USD_RATE

export const convertCurrency = (amount: number, fromCurrency: string, toCurrency: string): number => {
  if (fromCurrency === toCurrency) return amount
  
  if (fromCurrency === 'USD' && toCurrency === 'EUR') {
    return amount * USD_TO_EUR_RATE
  }
  
  if (fromCurrency === 'EUR' && toCurrency === 'USD') {
    return amount * EUR_TO_USD_RATE
  }
  
  return amount
}

export const formatCurrency = (amount: number, currency: string): string => {
  const currencySymbols: Record<string, string> = {
    USD: '$',
    EUR: '€',
  }
  
  return `${currencySymbols[currency] || '$'}${amount.toFixed(2)}`
}

// Multi-language translations
export const translations: Record<string, Record<string, string>> = {
  en: {
    'usage.title': 'Usage & Billing',
    'usage.subtitle': 'Track token usage, costs, and manage your subscription',
    'usage.currentPlan': 'Current Plan',
    'usage.month': '/month',
    'usage.trialEnds': 'Trial ends',
    'usage.renewsOn': 'Billing cycle renews',
    'usage.monthlyTokenUsage': 'Monthly Token Usage',
    'usage.totalRequests': 'Total Requests',
    'usage.totalCost': 'Total Cost',
    'usage.availableModels': 'Available Models',
    'usage.upgradePlan': 'Upgrade Plan',
    'usage.dailyTokenUsage': 'Daily Token Usage',
    'usage.last30Days': 'Last 30 days',
    'usage.costByModel': 'Cost by Model',
    'usage.distributionBreakdown': 'Distribution breakdown',
    'usage.availablePlans': 'Available Plans',
    'usage.comparePlans': 'Compare features and pricing',
    'usage.tokens': 'tokens/month',
    'usage.models': 'AI models',
    'usage.upgrade': 'Upgrade',
    'usage.changePlan': 'Change Plan',
    'usage.currentPlanBadge': 'Current Plan',
    'usage.noUsageData': 'No usage data yet',
    'usage.noModelData': 'No model usage data',
    'settings.title': 'Settings',
    'settings.subtitle': 'Manage your account preferences',
    'settings.preferences': 'Preferences',
    'settings.currencyLabel': 'Currency',
    'settings.currencyDesc': 'Choose your preferred currency for billing',
    'settings.languageLabel': 'Language',
    'settings.languageDesc': 'Select your interface language',
    'settings.saveChanges': 'Save Changes',
    'settings.changesSaved': 'Settings Saved',
    'settings.changesSavedDesc': 'Your preferences have been updated',
    'settings.profile': 'Profile',
    'settings.name': 'Full Name',
    'settings.email': 'Email',
  },
  fr: {
    'usage.title': 'Utilisation et Facturation',
    'usage.subtitle': 'Suivez l\'utilisation des jetons, les coûts et gérez votre abonnement',
    'usage.currentPlan': 'Forfait Actuel',
    'usage.month': '/mois',
    'usage.trialEnds': 'Fin de l\'essai',
    'usage.renewsOn': 'Renouvellement du cycle de facturation',
    'usage.monthlyTokenUsage': 'Utilisation Mensuelle de Jetons',
    'usage.totalRequests': 'Requêtes Totales',
    'usage.totalCost': 'Coût Total',
    'usage.availableModels': 'Modèles Disponibles',
    'usage.upgradePlan': 'Mettre à Niveau',
    'usage.dailyTokenUsage': 'Utilisation Quotidienne de Jetons',
    'usage.last30Days': '30 derniers jours',
    'usage.costByModel': 'Coût par Modèle',
    'usage.distributionBreakdown': 'Répartition détaillée',
    'usage.availablePlans': 'Forfaits Disponibles',
    'usage.comparePlans': 'Comparer les fonctionnalités et les tarifs',
    'usage.tokens': 'jetons/mois',
    'usage.models': 'modèles IA',
    'usage.upgrade': 'Mettre à Niveau',
    'usage.changePlan': 'Changer de Forfait',
    'usage.currentPlanBadge': 'Forfait Actuel',
    'usage.noUsageData': 'Aucune donnée d\'utilisation',
    'usage.noModelData': 'Aucune donnée de modèle',
    'settings.title': 'Paramètres',
    'settings.subtitle': 'Gérez vos préférences de compte',
    'settings.preferences': 'Préférences',
    'settings.currencyLabel': 'Devise',
    'settings.currencyDesc': 'Choisissez votre devise préférée pour la facturation',
    'settings.languageLabel': 'Langue',
    'settings.languageDesc': 'Sélectionnez la langue de l\'interface',
    'settings.saveChanges': 'Enregistrer les Modifications',
    'settings.changesSaved': 'Paramètres Enregistrés',
    'settings.changesSavedDesc': 'Vos préférences ont été mises à jour',
    'settings.profile': 'Profil',
    'settings.name': 'Nom Complet',
    'settings.email': 'Email',
  },
  de: {
    'usage.title': 'Nutzung & Abrechnung',
    'usage.subtitle': 'Token-Nutzung, Kosten verfolgen und Abonnement verwalten',
    'usage.currentPlan': 'Aktueller Plan',
    'usage.month': '/Monat',
    'usage.trialEnds': 'Testversion endet',
    'usage.renewsOn': 'Abrechnungszyklus erneuert',
    'usage.monthlyTokenUsage': 'Monatliche Token-Nutzung',
    'usage.totalRequests': 'Gesamte Anfragen',
    'usage.totalCost': 'Gesamtkosten',
    'usage.availableModels': 'Verfügbare Modelle',
    'usage.upgradePlan': 'Plan Upgraden',
    'usage.dailyTokenUsage': 'Tägliche Token-Nutzung',
    'usage.last30Days': 'Letzte 30 Tage',
    'usage.costByModel': 'Kosten nach Modell',
    'usage.distributionBreakdown': 'Verteilungsaufschlüsselung',
    'usage.availablePlans': 'Verfügbare Pläne',
    'usage.comparePlans': 'Funktionen und Preise vergleichen',
    'usage.tokens': 'Token/Monat',
    'usage.models': 'KI-Modelle',
    'usage.upgrade': 'Upgraden',
    'usage.changePlan': 'Plan Ändern',
    'usage.currentPlanBadge': 'Aktueller Plan',
    'usage.noUsageData': 'Keine Nutzungsdaten',
    'usage.noModelData': 'Keine Modelldaten',
    'settings.title': 'Einstellungen',
    'settings.subtitle': 'Verwalten Sie Ihre Kontoeinstellungen',
    'settings.preferences': 'Präferenzen',
    'settings.currencyLabel': 'Währung',
    'settings.currencyDesc': 'Wählen Sie Ihre bevorzugte Währung für die Abrechnung',
    'settings.languageLabel': 'Sprache',
    'settings.languageDesc': 'Wählen Sie Ihre Schnittstellensprache',
    'settings.saveChanges': 'Änderungen Speichern',
    'settings.changesSaved': 'Einstellungen Gespeichert',
    'settings.changesSavedDesc': 'Ihre Präferenzen wurden aktualisiert',
    'settings.profile': 'Profil',
    'settings.name': 'Vollständiger Name',
    'settings.email': 'E-Mail',
  },
  ar: {
    'usage.title': 'الاستخدام والفوترة',
    'usage.subtitle': 'تتبع استخدام الرموز والتكاليف وإدارة اشتراكك',
    'usage.currentPlan': 'الخطة الحالية',
    'usage.month': '/شهر',
    'usage.trialEnds': 'تنتهي التجربة',
    'usage.renewsOn': 'تجديد دورة الفوترة',
    'usage.monthlyTokenUsage': 'الاستخدام الشهري للرموز',
    'usage.totalRequests': 'إجمالي الطلبات',
    'usage.totalCost': 'التكلفة الإجمالية',
    'usage.availableModels': 'النماذج المتاحة',
    'usage.upgradePlan': 'ترقية الخطة',
    'usage.dailyTokenUsage': 'الاستخدام اليومي للرموز',
    'usage.last30Days': 'آخر 30 يومًا',
    'usage.costByModel': 'التكلفة حسب النموذج',
    'usage.distributionBreakdown': 'تفصيل التوزيع',
    'usage.availablePlans': 'الخطط المتاحة',
    'usage.comparePlans': 'قارن الميزات والأسعار',
    'usage.tokens': 'رموز/شهر',
    'usage.models': 'نماذج الذكاء الاصطناعي',
    'usage.upgrade': 'ترقية',
    'usage.changePlan': 'تغيير الخطة',
    'usage.currentPlanBadge': 'الخطة الحالية',
    'usage.noUsageData': 'لا توجد بيانات استخدام',
    'usage.noModelData': 'لا توجد بيانات نموذج',
    'settings.title': 'الإعدادات',
    'settings.subtitle': 'إدارة تفضيلات حسابك',
    'settings.preferences': 'التفضيلات',
    'settings.currencyLabel': 'العملة',
    'settings.currencyDesc': 'اختر عملتك المفضلة للفوترة',
    'settings.languageLabel': 'اللغة',
    'settings.languageDesc': 'حدد لغة الواجهة',
    'settings.saveChanges': 'حفظ التغييرات',
    'settings.changesSaved': 'تم حفظ الإعدادات',
    'settings.changesSavedDesc': 'تم تحديث تفضيلاتك',
    'settings.profile': 'الملف الشخصي',
    'settings.name': 'الاسم الكامل',
    'settings.email': 'البريد الإلكتروني',
  },
}

export const t = (key: string, language: string = 'en'): string => {
  return translations[language]?.[key] || translations['en'][key] || key
}
